{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/simple-phoenix-text-inputs-with-formulator/","result":{"data":{"site":{"siteMetadata":{"title":"David Bernheisel","author":"David Bernheisel"}},"markdownRemark":{"id":"45ae1cb2-fed0-5343-a9ed-97284bc0ca98","excerpt":"Ugh… three lines for a simple text input for a form in Phoenix? How about one\nwith Formulator?","timeToRead":2,"html":"<p>Ugh… three lines for a simple text input for a form in Phoenix? How about one\nwith Formulator?</p>\n<!-- excerpt -->\n<p>tldr:</p>\n<p>instead of</p>\n<pre class=\"grvsc-container atom-one-light grvsc-mm-t88nfI\" data-language=\"elixir\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&lt;</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">%</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">=</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> label form, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">:email_address</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> %</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&lt;</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">%</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">=</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> email_input form, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">:email_address</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> %</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&lt;</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">%</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">=</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> error_tag form, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">:email_address</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> %</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&lt;</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">%</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">=</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> label form, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">:first_name</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> %</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&lt;</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">%</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">=</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> text_input form, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">:first_name</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> %</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&lt;</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">%</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">=</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> error_tag form, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">:first_name</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> %</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&lt;</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">%</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">=</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> label form, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">:last_name</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> %</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&lt;</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">%</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">=</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> text_input form, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">:last_name</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> %</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&lt;</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">%</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">=</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> error_tag form, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">:last_name</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> %</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&gt;</span></span></span></code></pre>\n<p>do this with Formulator:</p>\n<pre class=\"grvsc-container atom-one-light grvsc-mm-t88nfI\" data-language=\"elixir\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&lt;</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">%</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">=</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> input form, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">:email_address</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">as:</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">:email</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> %</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&lt;</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">%</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">=</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> input form, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">:first_name</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> %</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&lt;</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">%</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">=</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> input form, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">:last_name</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> %</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&gt;</span></span></span></code></pre>\n<!--excerpt-->\n<p><a href=\"http://blog.plataformatec.com.br/2016/09/dynamic-forms-with-phoenix/\">Platformatec has a great post about dynamic forms with\nPhoenix</a>\nthat teaches developers how to extract some common steps out to their own\nfunctions.  This is helpful because developers can skip the tedious parts that\nthey tend to repeat, which also helps keep style consistent across a larger\nframework for an application.</p>\n<p>Other times, developers don’t need (or want) to build CSS classes into the\nback-end, or they want to give more flexibility to designers later, or they just\ndon’t want to start from scratch again when they start another application.\n(It’s hard to find that balance sometimes, isn’t it?)</p>\n<p>Enter: <a href=\"https://hexdocs.pm/formulator\">Formulator</a></p>\n<p>Formulator brings some simplicity to making form inputs for Phoenix, while still\ngiving the developer some customization options.</p>\n<p>For example, need a specific class for an input field?</p>\n<pre class=\"grvsc-container atom-one-light grvsc-mm-t88nfI\" data-language=\"elixir\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&lt;</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">%</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">=</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> input form, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">:email_address</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">as:</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">:email</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">class:</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> </span><span class=\"grvsc-t5WxC3-10 grvsc-t88nfI-6\">&quot;magical-email-input&quot;</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> %</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&gt;</span></span></span></code></pre>\n<p>or need to class up a label?</p>\n<pre class=\"grvsc-container atom-one-light grvsc-mm-t88nfI\" data-language=\"elixir\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&lt;</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">%</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">=</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> input form, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">:email_address</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">as:</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">:email</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">class:</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> </span><span class=\"grvsc-t5WxC3-10 grvsc-t88nfI-6\">&quot;magical-email-input&quot;</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\">, </span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">label:</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> [</span><span class=\"grvsc-t5WxC3-8 grvsc-t88nfI-4\">class:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t5WxC3-10 grvsc-t88nfI-6\">&quot;magical-email-label&quot;</span><span class=\"grvsc-t5WxC3-1 grvsc-t88nfI-1\"> %</span><span class=\"grvsc-t5WxC3-6 grvsc-t88nfI-7\">&gt;</span></span></span></code></pre>\n<p>If you’re a Rails developer and new to Phoenix, you’ll soon discover that\nPhoenix tries to get the form errors closer to the input tags themselves, as\nopposed to Rails where error messages are typically flashed near the top of a\npage. Getting used to this difference is like putting my toothbrush on the other\nside of the sink, I tend to forget the <code>error_tag</code> when making a new form and\nwonder for about 5 minutes why my test can’t find the error text I’m expecting.\nFormulator saves me some keystrokes and keeps me from forgetting error tags.</p>\n<p>We made Formulator because we realized we were repeating ourselves waaaay too\nmuch for simple stuff. It’s a ridiculously simple library (just check out the\n<a href=\"https://github.com/thoughtbot/formulator\">source code</a>). Give it and try and\nlet us know what you think!</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .atom-one-light {\n    background-color: #FAFAFA;\n    color: #383A42;\n  }\n  .atom-one-light .grvsc-t5WxC3-6 { color: #986801; }\n  .atom-one-light .grvsc-t5WxC3-1 { color: #383A42; }\n  .atom-one-light .grvsc-t5WxC3-8 { color: #0184BC; }\n  .atom-one-light .grvsc-t5WxC3-10 { color: #50A14F; }\n  .atom-one-light .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n  \n  /* Monokai Phoenix */\n  @media (prefers-color-scheme: dark) {\n    .grvsc-mm-t88nfI {\n      background-color: #1e1e1e;\n      color: #F8F8F2;\n    }\n    .grvsc-mm-t88nfI .grvsc-t88nfI-7 { color: #F92672; }\n    .grvsc-mm-t88nfI .grvsc-t88nfI-1 { color: #F8F8F2; }\n    .grvsc-mm-t88nfI .grvsc-t88nfI-4 { color: #AE81FF; }\n    .grvsc-mm-t88nfI .grvsc-t88nfI-6 { color: #E6DB74; }\n    .grvsc-mm-t88nfI .grvsc-line-highlighted::before {\n      background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n      box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n    }\n  }\n</style>","frontmatter":{"title":"Simple Phoenix Text Inputs with Formulator","date":"June 30, 2017","tags":["elixir"],"originalUrl":"https://robots.thoughtbot.com/simple-phoenix-text-inputs-with-formulator"}}},"pageContext":{"slug":"/blog/simple-phoenix-text-inputs-with-formulator/","previous":{"fields":{"slug":"/blog/intro-to-elixir-phoenix-and-umbrellas/"},"frontmatter":{"title":"Introduction to Elixir, Phoenix, and Umbrella Apps","tags":["elixir"],"originalUrl":null,"excerpt":"Introduction of Elixir and Phoenix for a local coding boot camp. Slides\n"}},"next":{"fields":{"slug":"/blog/lessons-from-using-phoenix-1-3/"},"frontmatter":{"title":"Lessons From Using Phoenix 1.3","tags":["elixir"],"originalUrl":"https://robots.thoughtbot.com/lessons-from-using-phoenix-1-3","excerpt":null}}}}}